<div *ngIf="showCertificate" class="certificate-container container shadow-sm rounded">
  <div class="certificate-header d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">ðŸŽ“ Add Certificate</h4>
    <i class="fa fa-times text-danger cursor-pointer" (click)="close()"></i>
  </div>

  <div class="certificate-form">
    <!-- Certificate Type -->
    <div class="form-group mb-3">
      <label class="form-label">Certificate Type</label>
      <select class="form-select" [(ngModel)]="certificateType">
        <option value="">-- Select --</option>
        <option value="student">For Student</option>
        <option value="staff">For Teacher & Staff</option>
        <option value="tc">For Transfer Certificate</option>
      </select>
    </div>

    <!-- Header Upload -->
    <div class="form-group mb-3">
      <label class="form-label">Header</label>
      <input type="file" (change)="onHeaderUpload($event)" accept="image/*" />
    </div>

    <!-- Footer Upload -->
    <div class="form-group mb-3">
      <label class="form-label">Footer</label>
      <input type="file" (change)="onFooterUpload($event)" accept="image/*" />
    </div>

    <!-- Title -->
    <div class="form-group mb-3">
      <label class="form-label">Title</label>
      <input class="form-control" [(ngModel)]="title" type="text" placeholder="Enter certificate title" />
    </div>

    <!-- Design Text -->
    <div class="form-group mb-3">
      <label class="form-label">Design Text</label>
      <quill-editor [(ngModel)]="templateBody"
                    [style]="{height: '200px',width: '100%', backgroundColor: 'white'}"
                    [placeholder]="'Start typing certificate content...'">
      </quill-editor>
    </div>

    <!-- Preview -->
    <div class="certificate-preview">
      <div *ngIf="headerImage" class="certificate-image">
        <img id="headerPreview" [src]="headerImage" alt="Header" class="img-fluid mb-2" />
      </div>

      <div class="certificate-content p-3" [innerHTML]="title"></div>
      <div class="certificate-content p-3" [innerHTML]="templateBody"></div>

      <div *ngIf="footerImage" class="certificate-image mt-2">
        <img id="footerPreview" [src]="footerImage" alt="Footer" class="img-fluid" />
      </div>
    </div>

    <div class="preview-container text-center">
      <img [src]="previewImage" alt="Certificate Preview" class="img-thumbnail" width="500" />
    </div>

    <!-- Submit Button -->
    <div class="form-group text-end mt-4">
      <button class="btn btn-primary px-4" (click)="submit()">ðŸ’¾ Save Certificate</button>
    </div>
  </div>
</div>
