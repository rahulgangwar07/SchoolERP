<div class="container">
  <h6>View Exam Type</h6>
  <div class="panel-body">

    <div class="row layout-header">
      <div class="col-md-6">List of Exam Type</div>
      <div class="col-md-6 text-end">
        <a class="view-classes-link" (click)="openModal()">Add Exam</a>
        <!--<a routerLink="/examination/exam-term" class="view-classes-link">Exam Term</a>-->
        <a href="javascript:void(0)" class="view-classes-link" (click)="switchToExamTerm()">Exam Term</a>
      </div>
    </div>

    <div class="row">
      <!-- Scholastic Exam Category -->
      <div class="col-md-6">
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr class="selected_box text-center">
              <td colspan="100%">Scholastic Exam Type</td>
            </tr>
            <tr>
              <th style="width:60px">#</th>
              <th>ID</th>
              <th>Title</th>
              <th>Order</th>
              <th style="width:100px">Options</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let cat of scholasticCategories; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ cat.exam_type_id }}</td>
              <td>{{ cat.exam_type_name }}</td>
              <td>{{ cat.orderid || '-' }}</td>
              <td>
                <div class="action-container">
                  <button class="actionbtn" (click)="toggleAction(i, 'scholastic')">Action</button>
                  <ul *ngIf="currentScholasticIndex  === i" class="action-list">
                    <li (click)="editCategory(cat)"><i class="fas fa-edit"></i> Edit</li>
                    <li (click)="deleteCategory(cat.exam_type_id)"><i class="fas fa-trash-alt"></i> Delete</li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Online Exam Category -->
      <div class="col-md-6">
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr class="selected_box text-center">
              <td colspan="100%">Online Exam Type</td>
            </tr>
            <tr>
              <th style="width:60px">#</th>
              <th>Title</th>
              <th style="width:100px">Options</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let cat of onlineCategories; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ cat.exam_type_name }}</td>
              <td>
                <div class="action-container">
                  <button class="actionbtn" (click)="toggleAction(i, 'online')">Action</button>
                  <ul *ngIf="currentOnlineIndex === i" class="action-list">
                    <li (click)="editCategory(cat)"><i class="fas fa-edit"></i> Edit</li>
                    <li (click)="deleteCategory(cat.exam_type_id)"><i class="fas fa-trash-alt"></i> Delete</li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<!-- Modal -->
<div class="modal fade" id="examCategoryModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form (ngSubmit)="submitForm()">
        <div class="modal-header">
          <h5 class="modal-title">{{ isEditMode ? 'Edit' : 'Add' }} Exam Category</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">
          <div class="form-group mb-2">
            <label>Category Type</label>
            <select class="form-control" [(ngModel)]="form.exam_type_cat" name="exam_type_cat" required>
              <option value="1">Scholastic</option>
              <option value="2">Online Exam</option>
            </select>
          </div>

          <div class="form-group mb-2">
            <label>Exam Name</label>
            <input type="text" class="form-control" [(ngModel)]="form.exam_type_name" name="exam_type_name" required />
          </div>

          <div class="form-group mb-2">
            <label>Description</label>
            <input type="text" class="form-control" [(ngModel)]="form.description" name="description" />
          </div>

          <div class="form-group mb-2">
            <label>Order</label>
            <input type="number" class="form-control" [(ngModel)]="form.orderid" name="orderid" required />
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Update' : 'Create' }}</button>
        </div>
      </form>
    </div>
  </div>
</div>
