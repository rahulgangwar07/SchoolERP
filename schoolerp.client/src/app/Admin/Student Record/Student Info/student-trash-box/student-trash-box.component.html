
<app-success-message-popup *ngFor="let message of messages; let i = index"
                           [messages]="message" [showSuccessPopup]="showSuccessPopup"
                           (closePopup)="closeMessagePopup(i)">
</app-success-message-popup>

<div class="container">
  <h2>Trash Box Report</h2>
  <div class="row layout-header mb-3">
    <div class="col-md-7">
      <p class="font-weight-bold">Trash Box Report </p>
    </div>
    <div class="col-md-5 text-right">
      <!--<a href="/registration/enquiry" class="btn btn-outline-primary btn-sm">Add Student(Quick)</a>-->
      <a (click)="printWindow()" class="btn btn-outline-primary btn-sm">Print</a>
    </div>
  </div>

  <!-- Trash Box Report Table -->
  <div id="trashBoxDiv">
    <table id="trashBoxTable" *ngIf="trashBoxData.length>0">
      <thead>
        <tr>
          <th>#</th>
          <th>Profile</th>
          <th>Name</th>
          <th>Phone</th>
          <th>Branch</th>
          <th>Class</th>
          <th>Roll</th>
          <th>Session</th>
          <th>Moved On</th>
          <th>Added On</th>
          <!--<th>MAC ID</th>-->
          <th>Restore</th>
        </tr>
      </thead>
      <tbody>
        <!-- Loop through trashBoxData and create a row for each student -->
        <tr *ngFor="let data of trashBoxData; let i = index">
          <td>{{ i + 1 }}</td>  <!-- Display index + 1 for row number -->
          <td><img [src]="data.studentMaster.stuImage ? data.studentMaster.stuImage : 'default-profile.jpg'" alt="Profile Image" class="profile-image"></td>
          <td>{{ data.studentMaster.first_name }} {{ data.studentMaster.last_name || '' }}</td>
          <td>{{ data.studentMaster.aadhar_card || 'N/A' }}</td>
          <td>{{ data.studentMaster.father_name || 'N/A' }}</td>
          <td>{{ data.studentMaster.class_name || 'N/A' }}</td>
          <td>{{ data.studentMaster.stu_id || 'N/A' }}</td>
          <td>{{ data.studentMaster.session || 'N/A' }}</td>
          <td>{{ data.studentMaster.adm_date | date: 'dd MMM yyyy' }}</td>
          <td>{{ data.studentMaster.created_date | date: 'dd MMM yyyy' }}</td>
          <!--<td>{{ data.studentMaster.updated_date | date: 'dd MMM yyyy' }}</td>-->
          <td class="action-btns"><button (click)="restoreStudent(data.studentMaster.uid,data.studentMaster.stu_id)">Restore</button></td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="trashBoxData.length==0">No record avaiable in Trash box</div>
  </div>
</div>
